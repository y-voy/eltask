<h2><%= t('view.index_view') %></h2>
<p><%= notice %></p>

<%= form_with scope: :task, url: tasks_path, method: :get, local: true do |f| %>
  <%= f.text_field :name, id: "name_search_feild" %>
  <%= f.select :status, Task.statuses.keys, {}, id: "status_search_feild"%>
  <%= f.submit "検索" %>
<% end %>

<table>
  <tr>
    <th><%= t('activerecord.attributes.task.name') %></th>
    <th><%= t('activerecord.attributes.task.description') %></th>
    <th><%= t('activerecord.attributes.task.expired_at') %></th>
    <th><%= t('activerecord.attributes.task.status') %></th>
    <th><%= t('activerecord.attributes.task.priority') %></th>
  </tr>
<% @tasks.each do |task| %>
  <tr>
    <td><%= task.name %></td>
    <td><%= task.description %></td>
    <td><%= task.expired_at %></td>
    <td><%= task.status %></td>
    <td><%= task.priority %></td>
    <td><%= link_to t('view.detail'), task_path(task.id) %></td>
    <td><%= link_to t('view.edit'), edit_task_path(task.id) %></td>
    <td><%= link_to t('view.destroy'), task_path(task.id), method: :delete, data: { confirm: "本当に削除しますか？" } %></td>
  </tr>
  <% end %>
</table>
<%= paginate @tasks %>
<%= page_entries_info @tasks %>
<p id="sort_expired"><%= link_to '終了期限でソートする', tasks_path(sort_expired: 'true') %></p>
<p id="sort_priority"><%= link_to '優先順位でソートする', tasks_path(sort_priority: 'true') %></p>
<p><%= link_to t('view.sorted_by_created_at'), tasks_path %></p>
<p><%= link_to t('view.new_task'), new_task_path %></p>
